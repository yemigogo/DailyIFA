{% extends "base.html" %}

{% block title %}Diaspora Guidance Mode{% endblock %}
{% block header_title %}Diaspora Guidance{% endblock %}

{% block content %}
<div class="space-y-6" x-data="diasporaGuidance()">
    <!-- Header -->
    <div class="text-center">
        <div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-emerald-600 to-teal-700 rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
        </div>
        
        <h2 class="text-2xl font-bold text-spiritual-blue dark:text-sacred-gold mb-2">
            <span x-show="language === 'english'">Diaspora Guidance Mode</span>
            <span x-show="language === 'yoruba'">√åt·ªçÃÅkas√≠ √Äj√®j√¨</span>
        </h2>
        
        <p class="text-gray-600 dark:text-gray-400">
            <span x-show="language === 'english'">Authentic If√° practices adapted for global communities</span>
            <span x-show="language === 'yoruba'">√Äw·ªçn √¨·π£e If√° √≤t√≠t·ªçÃÅ t√≠ a ti ·π£e √†t√∫n·π£e f√∫n √†w·ªçn √†gb√®gb√® √†gb√°y√©</span>
        </p>
    </div>

    <!-- Location Selection -->
    <div class="spiritual-card rounded-xl p-6">
        <h3 class="text-lg font-bold text-spiritual-blue dark:text-sacred-gold mb-4">
            <span x-show="language === 'english'">Your Location</span>
            <span x-show="language === 'yoruba'">√åp√≤ R·∫π</span>
        </h3>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <template x-for="region in regions" :key="region.id">
                <button @click="selectRegion(region)" 
                        :class="selectedRegion?.id === region.id ? 'bg-emerald-600 text-white' : 'bg-emerald-50 hover:bg-emerald-100 text-emerald-800'"
                        class="p-4 rounded-lg border border-emerald-200 dark:border-emerald-700 transition-all duration-200 text-center">
                    <div class="text-2xl mb-2" x-text="region.flag"></div>
                    <div class="font-medium text-sm" x-text="language === 'english' ? region.name : region.nameYoruba"></div>
                </button>
            </template>
        </div>
    </div>

    <!-- Location-Specific Guidance -->
    <div x-show="selectedRegion" class="space-y-6">
        <!-- Daily Practices -->
        <div class="spiritual-card rounded-xl p-6">
            <h3 class="text-lg font-bold text-spiritual-blue dark:text-sacred-gold mb-6">
                <span x-show="language === 'english'">Daily Practices for</span>
                <span x-show="language === 'yoruba'">√Äw·ªçn √å·π£e Ojooj√∫m·ªçÃÅ F√∫n</span>
                <span x-text="selectedRegion ? (language === 'english' ? selectedRegion.name : selectedRegion.nameYoruba) : ''"></span>
            </h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Morning Ritual -->
                <div class="bg-amber-50 dark:bg-amber-900/20 p-5 rounded-lg border border-amber-200 dark:border-amber-700">
                    <h4 class="font-semibold text-amber-900 dark:text-amber-100 mb-3 flex items-center gap-2">
                        <svg class="w-5 h-5 text-amber-600" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"/>
                        </svg>
                        <span x-show="language === 'english'">Morning Connection (5 min)</span>
                        <span x-show="language === 'yoruba'">√Äsop·ªçÃÄ √íw√∫r·ªçÃÄ (√å·π£·∫πÃÅj√∫ 5)</span>
                    </h4>
                    
                    <div class="space-y-3 text-sm">
                        <div x-show="selectedRegion" x-html="getMorningPractice()"></div>
                    </div>
                </div>

                <!-- Evening Reflection -->
                <div class="bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-lg border border-indigo-200 dark:border-indigo-700">
                    <h4 class="font-semibold text-indigo-900 dark:text-indigo-100 mb-3 flex items-center gap-2">
                        <svg class="w-5 h-5 text-indigo-600" fill="currentColor" viewBox="0 0 24 24">
                            <path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z" clip-rule="evenodd"/>
                        </svg>
                        <span x-show="language === 'english'">Evening Reflection (10 min)</span>
                        <span x-show="language === 'yoruba'">√å·π£√†r√≤ √Ä·π£√°l·∫πÃÅ (√å·π£·∫πÃÅj√∫ 10)</span>
                    </h4>
                    
                    <div class="space-y-3 text-sm">
                        <div x-show="selectedRegion" x-html="getEveningPractice()"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Home Altar Setup -->
        <div class="spiritual-card rounded-xl p-6">
            <h3 class="text-lg font-bold text-spiritual-blue dark:text-sacred-gold mb-6">
                <span x-show="language === 'english'">Home Altar Setup</span>
                <span x-show="language === 'yoruba'">√ågb√©kal·∫πÃÄ P·∫πp·∫π Il√©</span>
            </h3>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Basic Setup -->
                <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-3">
                        <span x-show="language === 'english'">Basic Setup</span>
                        <span x-show="language === 'yoruba'">√ågb√©kal·∫πÃÄ √åp√¨l·∫πÃÄ</span>
                    </h4>
                    
                    <ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
                        <li class="flex items-start gap-2">
                            <span class="text-emerald-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Small table or shelf</span>
                            <span x-show="language === 'yoruba'">T√°b√¨l√¨ k√©ker√© t√†b√≠ p·∫πp·∫π</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-emerald-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">White cloth covering</span>
                            <span x-show="language === 'yoruba'">A·π£·ªç funfun t√≠ √≥ bo</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-emerald-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Glass of clean water</span>
                            <span x-show="language === 'yoruba'">Gilasi omi m√≠m·ªçÃÅ</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-emerald-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">White candle</span>
                            <span x-show="language === 'yoruba'">F√¨t√≠l√† funfun</span>
                        </li>
                    </ul>
                </div>

                <!-- Local Adaptations -->
                <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-3">
                        <span x-show="language === 'english'">Local Materials</span>
                        <span x-show="language === 'yoruba'">√Äw·ªçn Ohun √àl√≤ √Äd√∫gb√≤</span>
                    </h4>
                    
                    <div x-show="selectedRegion" x-html="getLocalMaterials()"></div>
                </div>

                <!-- Privacy Tips -->
                <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-3">
                        <span x-show="language === 'english'">Discreet Practice</span>
                        <span x-show="language === 'yoruba'">√å·π£e √Äd√†n√≠</span>
                    </h4>
                    
                    <ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
                        <li class="flex items-start gap-2">
                            <span class="text-blue-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Use bedroom corner</span>
                            <span x-show="language === 'yoruba'">Lo igun iy·∫πÃÄw√π</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Portable setup possible</span>
                            <span x-show="language === 'yoruba'">√ågb√©kal·∫πÃÄ √†gb√©k√° ·π£e√© ·π£e</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Respectful to roommates</span>
                            <span x-show="language === 'yoruba'">B·ªçÃÄw·ªçÃÄ f√∫n √†w·ªçn al√°b√†s√°</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Material Substitutions -->
        <div class="spiritual-card rounded-xl p-6">
            <h3 class="text-lg font-bold text-spiritual-blue dark:text-sacred-gold mb-6">
                <span x-show="language === 'english'">Traditional Material Substitutions</span>
                <span x-show="language === 'yoruba'">√Äw·ªçn √år·ªçÃÅp√≤ Ohun √àl√≤ √åb√≠l·∫πÃÄ</span>
            </h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <template x-for="substitution in materialSubstitutions" :key="substitution.traditional">
                    <div class="border border-amber-200 dark:border-amber-700 rounded-lg p-4 hover:border-amber-400 transition-colors">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="font-semibold text-amber-900 dark:text-amber-100">
                                <span x-show="language === 'english'" x-text="substitution.traditional"></span>
                                <span x-show="language === 'yoruba'" x-text="substitution.traditionalYoruba"></span>
                            </h4>
                            <span class="text-2xl">‚Üí</span>
                        </div>
                        
                        <div class="bg-amber-50 dark:bg-amber-900/20 p-3 rounded">
                            <h5 class="font-medium text-amber-800 dark:text-amber-200 mb-1">
                                <span x-show="language === 'english'">Available Alternative:</span>
                                <span x-show="language === 'yoruba'">√år·ªçÃÅp√≤ T√≠ √ì W√†:</span>
                            </h5>
                            <p class="text-sm text-amber-700 dark:text-amber-300">
                                <span x-show="language === 'english'" x-text="substitution.substitute"></span>
                                <span x-show="language === 'yoruba'" x-text="substitution.substituteYoruba"></span>
                            </p>
                            
                            <p class="text-xs text-amber-600 dark:text-amber-400 mt-2">
                                <span x-show="language === 'english'" x-text="substitution.reason"></span>
                                <span x-show="language === 'yoruba'" x-text="substitution.reasonYoruba"></span>
                            </p>
                        </div>
                    </div>
                </template>
            </div>
        </div>

        <!-- Community Building -->
        <div class="spiritual-card rounded-xl p-6">
            <h3 class="text-lg font-bold text-spiritual-blue dark:text-sacred-gold mb-6">
                <span x-show="language === 'english'">Building Community</span>
                <span x-show="language === 'yoruba'">√åk·ªçÃÅl·∫πÃÄ √Ägb√®gb√®</span>
            </h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Finding Others -->
                <div class="bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg">
                    <h4 class="font-semibold text-blue-900 dark:text-blue-100 mb-3">
                        <span x-show="language === 'english'">Finding Local Practitioners</span>
                        <span x-show="language === 'yoruba'">W√≠wa √Äw·ªçn A·π£e √Äd√∫gb√≤</span>
                    </h4>
                    
                    <ul class="space-y-2 text-sm text-blue-800 dark:text-blue-200">
                        <li class="flex items-start gap-2">
                            <span class="text-blue-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Cultural centers and universities</span>
                            <span x-show="language === 'yoruba'">√Äw·ªçn il√©-i·π£·∫πÃÅ √†·π£√† √†ti yunif√°s√≠t√¨</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Online communities and forums</span>
                            <span x-show="language === 'yoruba'">√Äw·ªçn √†gb√®gb√® or√≠ ·∫πÃÄr·ªç √†ti √†w·ªçn √¨j·ªç</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">African cultural festivals</span>
                            <span x-show="language === 'yoruba'">√Äw·ªçn √†j·ªçÃÄd√∫n √†·π£√† √Åfr√≠k√†</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Respectful approach to existing communities</span>
                            <span x-show="language === 'yoruba'">·ªåÃÄn√† ·ªçÃÄw·ªçÃÄ s√≠ √†w·ªçn √†gb√®gb√® t√≠ √≥ ti w√†</span>
                        </li>
                    </ul>
                </div>

                <!-- Cultural Sensitivity -->
                <div class="bg-green-50 dark:bg-green-900/20 p-5 rounded-lg">
                    <h4 class="font-semibold text-green-900 dark:text-green-100 mb-3">
                        <span x-show="language === 'english'">Cultural Sensitivity</span>
                        <span x-show="language === 'yoruba'">√åfiy√®s√≠ √Ä·π£√†</span>
                    </h4>
                    
                    <ul class="space-y-2 text-sm text-green-800 dark:text-green-200">
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Learn basic Yoruba greetings</span>
                            <span x-show="language === 'yoruba'">K·ªçÃÅ √†w·ªçn k√≠k√≠ Yor√πb√° √¨p√¨l·∫πÃÄ</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Understand historical context</span>
                            <span x-show="language === 'yoruba'">L√≥ye √¨t√†n √†y√≠k√°</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Approach with humility and respect</span>
                            <span x-show="language === 'yoruba'">S√∫nm·ªçÃÅ p·∫πÃÄl√∫ √¨r·∫πÃÄl·∫πÃÄ √†ti ·ªçÃÄw·ªçÃÄ</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 mt-1">‚Ä¢</span>
                            <span x-show="language === 'english'">Support African-led organizations</span>
                            <span x-show="language === 'yoruba'">·π¢√†t√¨l·∫πÃÅy√¨n √†w·ªçn √†j·ªç t√≠ ar√° √Åfr√≠k√† ≈Ñ dar√≠</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Emergency Spiritual Guidance -->
        <div class="spiritual-card rounded-xl p-6">
            <h3 class="text-lg font-bold text-spiritual-blue dark:text-sacred-gold mb-6">
                <span x-show="language === 'english'">Emergency Spiritual Guidance</span>
                <span x-show="language === 'yoruba'">√åt·ªçÃÅkas√≠ ·∫∏ÃÄm√≠ √åpay√†</span>
            </h3>

            <div class="bg-red-50 dark:bg-red-900/20 p-5 rounded-lg border border-red-200 dark:border-red-700">
                <h4 class="font-semibold text-red-900 dark:text-red-100 mb-4">
                    <span x-show="language === 'english'">When You Need Immediate Guidance</span>
                    <span x-show="language === 'yoruba'">N√≠gb√† T√≠ O N√≠l√≤ √åt·ªçÃÅkas√≠ L·∫πÃÅs·∫πÃÄk·∫πs·∫πÃÄ</span>
                </h4>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white dark:bg-gray-800 p-4 rounded">
                        <h5 class="font-medium text-red-800 dark:text-red-200 mb-2">
                            <span x-show="language === 'english'">Quick Centering</span>
                            <span x-show="language === 'yoruba'">√åd√°l√≥pin K√≠√°k√≠√°</span>
                        </h5>
                        <p class="text-sm text-red-700 dark:text-red-300">
                            <span x-show="language === 'english'">3 deep breaths, call on Orunmila for wisdom</span>
                            <span x-show="language === 'yoruba'">√åm√≠ j√≠j√¨n m·∫πÃÅta, k√© s√≠ ·ªåÃÄr√∫nm√¨l√† f√∫n ·ªçgb·ªçÃÅn</span>
                        </p>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-4 rounded">
                        <h5 class="font-medium text-red-800 dark:text-red-200 mb-2">
                            <span x-show="language === 'english'">Protection Prayer</span>
                            <span x-show="language === 'yoruba'">√Äd√∫r√† √Ä√†b√≤</span>
                        </h5>
                        <p class="text-sm text-red-700 dark:text-red-300 italic">
                            <span x-show="language === 'english'">"Ancestors, surround me with your light and protection"</span>
                            <span x-show="language === 'yoruba'">"√Äw·ªçn b√†b√°, y√≠ mi k√° p·∫πÃÄl√∫ √¨m·ªçÃÅl·∫πÃÄ √†ti √†√†b√≤ y√≠n"</span>
                        </p>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-4 rounded">
                        <h5 class="font-medium text-red-800 dark:text-red-200 mb-2">
                            <span x-show="language === 'english'">Simple Divination</span>
                            <span x-show="language === 'yoruba'">√Äf·ªçÃÄm·ªçÃÅ R·ªçÃÄr√πn</span>
                        </h5>
                        <p class="text-sm text-red-700 dark:text-red-300">
                            <span x-show="language === 'english'">Use today's Odu or flip a coin while asking ancestors</span>
                            <span x-show="language === 'yoruba'">Lo Od√π √≤n√≠ t√†b√≠ ju owo n√≠gb√† t√≠ o b√° n b√©√®r√® l·ªçÃÅw·ªçÃÅ √†w·ªçn b√†b√°</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function diasporaGuidance() {
    return {
        language: 'english',
        selectedRegion: null,
        
        regions: [
            {
                id: 'usa',
                name: 'United States',
                nameYoruba: 'Or√≠l·∫πÃÄ-√®d√® Am·∫πÃÅr√≠k√†',
                flag: 'üá∫üá∏',
                timezone: 'multiple',
                challenges: ['Time constraints', 'Privacy concerns', 'Material availability'],
                opportunities: ['Diverse communities', 'Online resources', 'Cultural centers']
            },
            {
                id: 'uk',
                name: 'United Kingdom',
                nameYoruba: 'Il·∫πÃÄ G·∫πÃÄ·∫πÃÅs√¨',
                flag: 'üá¨üáß',
                timezone: 'GMT',
                challenges: ['Weather limitations', 'Space constraints'],
                opportunities: ['Strong African communities', 'Academic resources']
            },
            {
                id: 'canada',
                name: 'Canada',
                nameYoruba: 'K√°n√°d√†',
                flag: 'üá®üá¶',
                timezone: 'multiple',
                challenges: ['Cold climate', 'Sparse communities'],
                opportunities: ['Multicultural acceptance', 'University programs']
            },
            {
                id: 'brazil',
                name: 'Brazil',
                nameYoruba: 'Br√†s√≠√¨',
                flag: 'üáßüá∑',
                timezone: 'BRT',
                challenges: ['Syncretism navigation'],
                opportunities: ['Strong Candombl√© tradition', 'African heritage awareness']
            },
            {
                id: 'caribbean',
                name: 'Caribbean',
                nameYoruba: '√Äw·ªçn Er√©k√π·π£√π K√°r√≠b√≠√†n√¨',
                flag: 'üèùÔ∏è',
                timezone: 'AST',
                challenges: ['Island isolation', 'Economic constraints'],
                opportunities: ['Santer√≠a traditions', 'African retention']
            },
            {
                id: 'europe',
                name: 'Europe',
                nameYoruba: 'Y√∫r√≥√≤p√π',
                flag: 'üá™üá∫',
                timezone: 'CET',
                challenges: ['Language barriers', 'Conservative attitudes'],
                opportunities: ['Academic interest', 'Growing communities']
            },
            {
                id: 'australia',
                name: 'Australia',
                nameYoruba: '·ªåstr√©l√≠√†',
                flag: 'üá¶üá∫',
                timezone: 'AEST',
                challenges: ['Distance from source', 'Time zone differences'],
                opportunities: ['Aboriginal connections', 'Multicultural acceptance']
            },
            {
                id: 'other',
                name: 'Other Location',
                nameYoruba: 'Ibi M√≠r√†n',
                flag: 'üåç',
                timezone: 'various',
                challenges: ['Adaptation needed'],
                opportunities: ['Universal principles apply']
            }
        ],
        
        materialSubstitutions: [
            {
                traditional: 'Kola Nut',
                traditionalYoruba: 'Ob√¨',
                substitute: 'Walnuts or Almonds',
                substituteYoruba: '√Äw·ªçn √àk√∫n t√†b√≠ √Äl√∫m·ªçÃÅnd√¨',
                reason: 'Similar spiritual significance for offerings',
                reasonYoruba: '√åtum·ªçÃÄ ·∫πÃÄm√≠ t√≠ √≥ j·ªçra f√∫n ·∫πb·ªç'
            },
            {
                traditional: 'Palm Wine',
                traditionalYoruba: 'Emu',
                substitute: 'Coconut Water',
                substituteYoruba: 'Omi Agb·ªçn',
                reason: 'Natural, pure, and ceremonially appropriate',
                reasonYoruba: '√Äd√°y√©b√°, m√≠m·ªçÃÅ, t√≠ √≥ s√¨ y·∫π f√∫n √¨·π£e'
            },
            {
                traditional: 'Shea Butter',
                traditionalYoruba: '√ír√≠',
                substitute: 'Coconut Oil',
                substituteYoruba: 'Epo Agb·ªçn',
                reason: 'Sacred oil for anointing and blessing',
                reasonYoruba: 'Epo m√≠m·ªçÃÅ f√∫n √¨ta √†ti √¨b√πk√∫n'
            },
            {
                traditional: 'African Print Cloth',
                traditionalYoruba: 'A·π£·ªç Ad√¨r·∫π',
                substitute: 'Natural White Cotton',
                substituteYoruba: '·ªåÃÄgb·ªçÃÄ Funfun √Äd√°y√©b√°',
                reason: 'Purity and spiritual cleanliness',
                reasonYoruba: 'M√≠m·ªçÃÅ √†ti √¨w·∫πÃÄ ·∫πÃÄm√≠'
            },
            {
                traditional: 'Cowrie Shells',
                traditionalYoruba: '√Äw·ªçn √ík√©d√®',
                substitute: 'Small White Stones',
                substituteYoruba: '√Äw·ªçn √ík√∫ta Funfun K√©ker√©',
                reason: 'Natural divination tools',
                reasonYoruba: '√Äw·ªçn ohun √®l√≤ √†f·ªçÃÄm·ªçÃÅ √†d√°y√©b√°'
            },
            {
                traditional: 'Red Palm Oil',
                traditionalYoruba: 'Epo Pupa',
                substitute: 'Olive Oil with Paprika',
                substituteYoruba: 'Epo Olifi p·∫πÃÄl√∫ Iy·∫πÃÄfun Pupa',
                reason: 'Maintains sacred color and oil essence',
                reasonYoruba: '√ì t·ªçÃÅj√∫ √†w·ªçÃÄ m√≠m·ªçÃÅ √†ti √¨p√≥nn√† epo'
            }
        ],
        
        selectRegion(region) {
            this.selectedRegion = region;
            this.saveRegionPreference(region.id);
        },
        
        getMorningPractice() {
            if (!this.selectedRegion) return '';
            
            const practices = {
                'usa': this.language === 'english' ? 
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>5:30-6:00 AM:</strong> Light white candle before shower</li><li>‚Ä¢ Face East, greet the rising sun</li><li>‚Ä¢ Say: "Orunmila, guide my steps today"</li><li>‚Ä¢ Drink glass of water with gratitude</li></ul>' :
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>5:30-6:00 AM:</strong> Tan f√¨t√≠l√† funfun k√≠ o t√≥ w·∫πÃÄ</li><li>‚Ä¢ Doj√∫k·ªç √ål√†-o√≤r√πn, k√≠ o√≤r√πn t√≠ ≈Ñ y·ªç</li><li>‚Ä¢ S·ªç p√©: "·ªåÃÄr√∫nm√¨l√†, ·π£e √¨t·ªçÃÅkas√≠ √¨r√¨n mi l√≥n√¨√≠"</li><li>‚Ä¢ Mu omi p·∫πÃÄl√∫ ·ªçp·∫πÃÅ</li></ul>',
                
                'uk': this.language === 'english' ? 
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>6:00-6:30 AM:</strong> Indoor altar blessing</li><li>‚Ä¢ Light candle despite gray weather</li><li>‚Ä¢ Connect with ancestors through meditation</li><li>‚Ä¢ Warm water ceremony for energy</li></ul>' :
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>6:00-6:30 AM:</strong> √åb√πk√∫n p·∫πp·∫π in√∫ il√©</li><li>‚Ä¢ Tan f√¨t√≠l√† p·∫πÃÄl√∫ oj√∫ ·ªçj·ªçÃÅ b√∫bur√∫</li><li>‚Ä¢ Darap·ªçÃÄ m·ªçÃÅ √†w·ªçn b√†b√° n√≠pas·∫π √¨·π£√†r√≤</li><li>‚Ä¢ √å·π£e omi gb√≠gb√≥n√° f√∫n agb√°ra</li></ul>',
                
                'brazil': this.language === 'english' ? 
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>5:00-5:30 AM:</strong> Integrate with Candombl√© timing</li><li>‚Ä¢ Honor If√° alongside local traditions</li><li>‚Ä¢ Use Brazilian flowers for offerings</li><li>‚Ä¢ Portuguese-Yoruba mixed prayers</li></ul>' :
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>5:00-5:30 AM:</strong> ·π¢√≤p·ªçÃÄ p·∫πÃÄl√∫ √†k√≥k√≤ Candombl√©</li><li>‚Ä¢ Bu ·ªçl√° f√∫n If√° p·∫πÃÄl√∫ √†w·ªçn √†·π£√† √†d√∫gb√≤</li><li>‚Ä¢ Lo √†w·ªçn √≤d√≤d√≥ Br√†s√≠√¨ f√∫n ·∫πb·ªç</li><li>‚Ä¢ √Äw·ªçn √†d√∫r√† Portuguese-Yoruba</li></ul>'
            };
            
            return practices[this.selectedRegion.id] || practices['usa'];
        },
        
        getEveningPractice() {
            if (!this.selectedRegion) return '';
            
            const practices = {
                'usa': this.language === 'english' ? 
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>8:00-8:30 PM:</strong> Review day\'s lessons</li><li>‚Ä¢ Thank ancestors for guidance received</li><li>‚Ä¢ Ask for peaceful rest and clear dreams</li><li>‚Ä¢ Extinguish candle with gratitude</li></ul>' :
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>8:00-8:30 PM:</strong> ·π¢√†y·∫πÃÄw√≤ √†w·ªçn ·∫πÃÄk·ªçÃÅ ·ªçj·ªçÃÅ</li><li>‚Ä¢ D√∫p·∫πÃÅ l·ªçÃÅw·ªçÃÅ √†w·ªçn b√†b√° f√∫n √¨t·ªçÃÅkas√≠</li><li>‚Ä¢ B√©√®r√® √¨sinmi √†ti √†l√° t√≠ √≥ kedere</li><li>‚Ä¢ Pa f√¨t√≠l√† p·∫πÃÄl√∫ ·ªçp·∫πÃÅ</li></ul>',
                
                'canada': this.language === 'english' ? 
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>7:00-7:30 PM:</strong> Indoor evening practice</li><li>‚Ä¢ Adapt to seasonal light changes</li><li>‚Ä¢ Use heated water in winter</li><li>‚Ä¢ Connect with southern energies</li></ul>' :
                    '<ul class="space-y-2"><li>‚Ä¢ <strong>7:00-7:30 PM:</strong> √å·π£e √†·π£√°l·∫πÃÅ in√∫ il√©</li><li>‚Ä¢ ·π¢e √†t√∫n·π£e s√≠ √†y√≠pad√† √¨m·ªçÃÅl·∫πÃÄ √†k√≥k√≤</li><li>‚Ä¢ Lo omi gb√≠gb√≥n√° n√≠ √¨gb√† √≤t√∫t√π</li><li>‚Ä¢ Darap·ªçÃÄ m·ªçÃÅ √†w·ªçn agb√°ra g√∫√∫s√π</li></ul>'
            };
            
            return practices[this.selectedRegion.id] || practices['usa'];
        },
        
        getLocalMaterials() {
            if (!this.selectedRegion) return '';
            
            const materials = {
                'usa': this.language === 'english' ? 
                    '<ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300"><li>‚Ä¢ Health food stores for nuts and oils</li><li>‚Ä¢ International markets for incense</li><li>‚Ä¢ Craft stores for white candles</li><li>‚Ä¢ Thrift stores for small tables</li></ul>' :
                    '<ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300"><li>‚Ä¢ √Äw·ªçn ·π£·ªçÃÅ·ªçÃÄb√π o√∫nj·∫π √¨lera f√∫n √®k√∫n √†ti epo</li><li>‚Ä¢ √Äw·ªçn ·ªçj√† √†gb√°y√© f√∫n t√πr√†r√≠</li><li>‚Ä¢ √Äw·ªçn ·π£·ªçÃÅ·ªçÃÄb√π ·ªçn√† f√∫n f√¨t√≠l√† funfun</li><li>‚Ä¢ √Äw·ªçn ·π£·ªçÃÅ·ªçÃÄb√π √†tij·ªçÃÅ f√∫n t√°b√¨l√¨ k√©ker√©</li></ul>',
                
                'uk': this.language === 'english' ? 
                    '<ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300"><li>‚Ä¢ Borough Market for specialty items</li><li>‚Ä¢ African shops in Peckham/Brixton</li><li>‚Ä¢ British Museum shop for educational books</li><li>‚Ä¢ Local florists for white flowers</li></ul>' :
                    '<ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300"><li>‚Ä¢ Borough Market f√∫n √†w·ªçn ohun √†k√†n·π£e</li><li>‚Ä¢ √Äw·ªçn ·π£·ªçÃÅ·ªçÃÄb√π √Åfr√≠k√† n√≠ Peckham/Brixton</li><li>‚Ä¢ ·π¢·ªçÃÅ·ªçÃÄb√π British Museum f√∫n √†w·ªçn √¨w√©</li><li>‚Ä¢ √Äw·ªçn at√≤k√©r√© f√∫n √≤d√≤d√≥ funfun</li></ul>'
            };
            
            return materials[this.selectedRegion.id] || materials['usa'];
        },
        
        saveRegionPreference(regionId) {
            localStorage.setItem('diasporaRegion', regionId);
        },
        
        loadRegionPreference() {
            const saved = localStorage.getItem('diasporaRegion');
            if (saved) {
                this.selectedRegion = this.regions.find(r => r.id === saved);
            }
        },
        
        init() {
            this.loadRegionPreference();
        }
    }
}
</script>
{% endblock %}