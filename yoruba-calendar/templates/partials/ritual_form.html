<!-- Ritual Form Component -->
<div class="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
    <h3 class="text-xl font-bold text-white mb-4">üïØÔ∏è Add Spiritual Practice</h3>
    
    <form id="ritualForm" class="space-y-4">
        <div>
            <label class="block text-purple-200 text-sm mb-2">Date</label>
            <input type="date" name="date" required 
                   class="w-full px-3 py-2 bg-white/20 border border-purple-300 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"
                   value="{{ datetime.now().strftime('%Y-%m-%d') }}">
        </div>
        
        <div>
            <label class="block text-purple-200 text-sm mb-2">Practice Type</label>
            <select name="practice_type" 
                    class="w-full px-3 py-2 bg-white/20 border border-purple-300 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500">
                <option value="meditation">Meditation</option>
                <option value="prayer">Prayer</option>
                <option value="offering">Offering</option>
                <option value="divination">Divination</option>
                <option value="cleansing">Spiritual Cleansing</option>
                <option value="study">Study & Learning</option>
                <option value="ritual">Traditional Ritual</option>
            </select>
        </div>
        
        <div>
            <label class="block text-purple-200 text-sm mb-2">Orisha Focus (Optional)</label>
            <select name="orisha" 
                    class="w-full px-3 py-2 bg-white/20 border border-purple-300 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500">
                <option value="">Select an Orisha</option>
                <option value="·ªåb√†t√°l√°">·ªåb√†t√°l√° - Peace & Wisdom</option>
                <option value="√íg√∫n">√íg√∫n - Strength & Iron</option>
                <option value="·π¢√†ng√≥">·π¢√†ng√≥ - Fire & Justice</option>
                <option value="·ªåya">·ªåya - Wind & Change</option>
                <option value="Yem·ªçja">Yem·ªçja - Motherhood & Ocean</option>
                <option value="·ªåÃÄ·π£un">·ªåÃÄ·π£un - Love & Rivers</option>
                <option value="·ªåÃÄr√∫nm√¨l√†">·ªåÃÄr√∫nm√¨l√† - Wisdom & Divination</option>
                <option value="√à·π£√π">√à·π£√π - Communication</option>
            </select>
        </div>
        
        <div>
            <label class="block text-purple-200 text-sm mb-2">Notes & Intentions</label>
            <textarea name="notes" rows="3" required
                      class="w-full px-3 py-2 bg-white/20 border border-purple-300 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500"
                      placeholder="Describe your spiritual practice, intentions, or goals..."></textarea>
        </div>
        
        <button type="submit" class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-2 px-4 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors">
            Add Practice
        </button>
    </form>
</div>

<script>
document.getElementById('ritualForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const data = Object.fromEntries(formData);
    
    fetch('/api/rituals', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'success') {
            alert('Spiritual practice added successfully!');
            this.reset();
            window.location.reload();
        } else {
            alert('Error adding practice. Please try again.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Error adding practice. Please try again.');
    });
});
</script>