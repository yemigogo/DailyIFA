<!DOCTYPE html>
<html>
<head>
    <title>Debug Bata Audio</title>
</head>
<body>
    <h1>Debug Bata Drum Audio</h1>
    <button onclick="testDirectAudio()">Test Direct Audio</button>
    <button onclick="testWithConsoleLog()">Test With Console Logging</button>
    <br><br>
    <audio id="audioElement" controls>
        <source src="/static/audio/soundscapes/bata_egungun_abida.mp3" type="audio/mpeg">
    </audio>
    <div id="status"></div>
    
    <script>
        function testDirectAudio() {
            const audio = document.getElementById('audioElement');
            audio.play().catch(e => {
                document.getElementById('status').innerHTML = 'Error: ' + e.message;
            });
        }
        
        function testWithConsoleLog() {
            console.log('Creating new Audio object...');
            const audio = new Audio('/static/audio/soundscapes/bata_egungun_abida.mp3');
            
            audio.addEventListener('loadstart', () => console.log('Audio loadstart'));
            audio.addEventListener('loadeddata', () => console.log('Audio loadeddata'));
            audio.addEventListener('canplay', () => console.log('Audio canplay'));
            audio.addEventListener('error', (e) => console.error('Audio error:', e));
            
            audio.volume = 0.8;
            console.log('Attempting to play...');
            
            audio.play().then(() => {
                console.log('SUCCESS: Audio playing');
                document.getElementById('status').innerHTML = 'SUCCESS: Audio is playing!';
            }).catch(err => {
                console.error('FAILED:', err);
                document.getElementById('status').innerHTML = 'FAILED: ' + err.message;
            });
        }
    </script>
</body>
</html>